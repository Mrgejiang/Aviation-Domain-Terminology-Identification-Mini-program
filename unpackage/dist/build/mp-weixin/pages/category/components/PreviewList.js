"use strict";const e=require("../../../common/vendor.js");if(!Array){(e.resolveComponent("uni-load-more")+e.resolveComponent("unicloud-db"))()}Math||((()=>"../../../uni_modules/uni-load-more/components/uni-load-more/uni-load-more.js")+(()=>"../../../node-modules/@dcloudio/uni-components/lib/unicloud-db/unicloud-db.js"))();const o=e.defineComponent({__name:"PreviewList",props:{name:{},id:{}},setup(o,{expose:a}){const n=o,t=e.er.database().command,s=e.computed((()=>t.or([{cnDetails:{category_id:n.id}},{usDetails:{category_id:n.id}},{euDetails:{category_id:n.id}}])));e.ref({contentdown:"",contentrefresh:"",contentnomore:""});const d=(e,o,a)=>{console.log("结果",e)},i=e.ref(null);return a({resetData:async()=>{await i.value.loadData({clear:!0},(()=>{})),console.log("重置数据")},getMore:async()=>{await i.value.loadMore(),console.log("加载更多")}}),e.ref(!0),(o,a)=>({a:e.t(n.name),b:e.w((({data:o,loading:a,hasMore:t,error:s},d,i)=>e.e({a:s},s?{b:e.t(s.message)}:o?{d:e.f(o,((o,a,n)=>({a:o.poster,b:e.t(o.cnDetails.name||o.usDetails.name||o.euDetails.name),c:o._id,d:`/pages/details/details?id=${o._id}`}))),e:e.t(n.name)}:{},{c:o,f:"7d267b90-1-"+i+",7d267b90-0",g:e.p({status:a?"loading":t?"more":"noMore"}),h:i,i:d})),{name:"d",path:"b",vueId:"7d267b90-0"}),c:e.sr(i,"7d267b90-0",{k:"udb"}),d:e.o(d),e:e.p({collection:"opendb-news-articles",where:s.value,field:"_id,poster,cnDetails.name,cnDetails.category_id,usDetails.name,usDetails.category_id,euDetails.name,euDetails.category_id","page-size":10})})}});wx.createComponent(o);
