"use strict";const e=require("../../../common/vendor.js");if(!Array){(e.resolveComponent("uni-dateformat")+e.resolveComponent("uni-list-item")+e.resolveComponent("uni-list")+e.resolveComponent("uni-load-state")+e.resolveComponent("unicloud-db"))()}Math||((()=>"../../../uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat.js")+(()=>"../../../uni_modules/uni-list/components/uni-list-item/uni-list-item.js")+(()=>"../../../uni_modules/uni-list/components/uni-list/uni-list.js")+(()=>"../../../components/uni-load-state/uni-load-state.js")+(()=>"../../../node-modules/@dcloudio/uni-components/lib/unicloud-db/unicloud-db.js"))();const t=e.defineComponent({__name:"favorite",setup(t){const o=e.ref(null),n=e.er.database(),a=[n.collection("opendb-news-favorite").where('"user_id"==$env.uid').field("article_id,update_date").getTemp(),n.collection("opendb-news-articles").field("_id,poster,cnDetails.name,usDetails.name,euDetails.name").getTemp()],i=e.ref(!0);e.ref({contentdown:"",contentrefresh:"",contentnomore:""}),e.ref(""),e.onLoad((()=>{}));const d=()=>{o.value.loadData({clear:!0},(t=>{e.index.stopPullDownRefresh()}))};return e.onReachBottom((()=>{o.value.loadMore()})),e.onPullDownRefresh((()=>{d()})),e.onShow((()=>{d()})),(t,n)=>({a:e.w((({data:t,pagination:o,loading:n,hasMore:a,error:i},d,l)=>e.e({a:i},i?{b:e.t(i.message)}:t?{d:e.f(t,((t,o,n)=>({a:t.article_id[0].poster,b:e.t(t.article_id[0].cnDetails.name||"中 无名称"),c:e.t(t.article_id[0].usDetails.name||"美 无名称"),d:e.t(t.article_id[0].euDetails.name||"欧 无名称"),e:"550424dc-3-"+l+"-"+n+",550424dc-2-"+l+"-"+n,f:e.p({date:t.update_date,format:"yyyy-MM-dd hh:mm",threshold:[0,0]}),g:o,h:e.o((o=>(t=>{e.index.navigateTo({url:"/pages/details/details?id="+t.article_id[0]._id})})(t)),o),i:"550424dc-2-"+l+"-"+n+",550424dc-1-"+l}))),e:e.p({clickable:!0}),f:"550424dc-1-"+l+",550424dc-0"}:{},{c:t,g:"550424dc-4-"+l+",550424dc-0",h:e.p({state:{data:t,pagination:o,hasMore:a,loading:n,error:i}}),i:l,j:d})),{name:"d",path:"a",vueId:"550424dc-0"}),b:e.o(d),c:e.sr(o,"550424dc-0",{k:"udb"}),d:e.o((e=>0==i.value)),e:e.o((e=>0==i.value)),f:e.p({collection:a})})}});wx.createPage(t);
