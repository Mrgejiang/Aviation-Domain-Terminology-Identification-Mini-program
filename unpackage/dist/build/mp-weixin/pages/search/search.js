"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-data-checkbox")+e.resolveComponent("uni-collapse-item")+e.resolveComponent("uni-collapse")+e.resolveComponent("PageSkeleton"))()}Math||((()=>"../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox.js")+(()=>"../../uni_modules/uni-collapse/components/uni-collapse-item/uni-collapse-item.js")+(()=>"../../uni_modules/uni-collapse/components/uni-collapse/uni-collapse.js")+a)();const a=()=>"./components/PreviewList.js",o=e.defineComponent({__name:"search",setup(a){const o=e.ref(null),l=e.ref(null),t=e.ref({}),n=()=>{o.value.getMore()};e.onLoad((e=>{v.value=!0,u.value.content=e.content,t.value=u.value,setTimeout((()=>{v.value=!1}),1e3)}));const u=e.ref({content:"",method:"fuzzy",country:"all",categoryId:"all"}),c=e.ref([{text:"全部",value:"all"}].concat(e.index.getStorageSync("categoryList")._value.map((e=>({text:e.name,value:e._id}))))),r=e.ref(!1),s=async()=>{var e;r.value=!0,await(null==(e=o.value)?void 0:e.resetData()),r.value=!1},i=e.ref("key2"),v=e.ref(!1),m=async()=>{if(""===u.value.content)return e.index.showToast({title:"请输入搜索内容",icon:"none"});v.value=!0,t.value=u.value,setTimeout((()=>{v.value=!1}),1e3),"key1"===i.value&&l.value.onClick(!1)},d={color:"#333",borderColor:"#111",backgroundColor:"rgba(255, 255, 255, 0.5)",disableColor:"#f7f6f6"};return(a,p)=>e.e({a:e.o(m),b:e.o(m),c:e.o((e=>u.value.content=e)),d:e.p({styles:d,trim:"both",prefixIcon:"search",clearable:!0,type:"text",placeholder:"搜索术语",confirmType:"search",modelValue:u.value.content}),e:e.o((e=>u.value.method=e)),f:e.p({localdata:[{text:"模糊搜索",value:"fuzzy"},{text:"精确搜索",value:"exact"}],mode:"tag",modelValue:u.value.method}),g:e.o((e=>u.value.country=e)),h:e.p({localdata:[{text:"全部",value:"all"},{text:"中国",value:"cn"},{text:"美国",value:"us"},{text:"欧盟",value:"eu"}],mode:"tag",modelValue:u.value.country}),i:e.o((e=>u.value.categoryId=e)),j:e.p({localdata:c.value,mode:"tag",modelValue:u.value.categoryId}),k:e.sr(l,"7ef39e61-2,7ef39e61-1",{k:"uci"}),l:e.p({name:"key1",title:"高级搜索"}),m:e.o((e=>i.value=e)),n:e.p({accordion:"true",modelValue:i.value}),o:v.value},v.value?{}:{p:e.sr(o,"7ef39e61-7",{k:"PreviewRef"}),q:e.p({searchParams:t.value}),r:e.o(n),s:e.o(s),t:r.value})}});wx.createPage(o);
