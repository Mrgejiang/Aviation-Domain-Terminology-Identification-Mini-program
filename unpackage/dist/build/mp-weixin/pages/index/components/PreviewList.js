"use strict";const e=require("../../../common/vendor.js");if(!Array){(e.resolveComponent("uni-load-more")+e.resolveComponent("unicloud-db"))()}Math||((()=>"../../../uni_modules/uni-load-more/components/uni-load-more/uni-load-more.js")+(()=>"../../../node-modules/@dcloudio/uni-components/lib/unicloud-db/unicloud-db.js"))();const o=e.defineComponent({__name:"PreviewList",setup(o,{expose:a}){const n=e.er.database(),t=n.collection("opendb-news-categories").field("_id,name").getTemp(),s=[n.collection("opendb-news-articles").field("_id,poster,cnDetails.name,cnDetails.category_id,usDetails.name,usDetails.category_id,euDetails.name,euDetails.category_id").getTemp(),t],i=(e,o,a)=>{console.log("结果",e)};e.ref({contentdown:"",contentrefresh:"",contentnomore:""});const l=e.ref(null);return a({resetData:async()=>{await l.value.loadData({clear:!0},(()=>{})),console.log("重置数据")},getMore:async()=>{await l.value.loadMore(),console.log("加载更多")}}),(o,a)=>({a:e.w((({data:o,loading:a,hasMore:n,error:t},s,i)=>e.e({a:t},t?{b:e.t(t.message)}:o?{d:e.f(o,((o,a,n)=>{var t,s,i;return{a:o.poster,b:e.t(o.cnDetails.name||o.usDetails.name||o.euDetails.name),c:e.t((null==(t=o.cnDetails.category_id[0])?void 0:t.name)||(null==(s=o.usDetails.category_id[0])?void 0:s.name)||(null==(i=o.euDetails.category_id[0])?void 0:i.name)||"未分类"),d:o._id,e:`/pages/details/details?id=${o._id}`}}))}:{},{c:o,e:"bae78070-1-"+i+",bae78070-0",f:e.p({status:a?"loading":n?"more":"noMore"}),g:i,h:s})),{name:"d",path:"a",vueId:"bae78070-0"}),b:e.sr(l,"bae78070-0",{k:"udb"}),c:e.o(i),d:e.p({collection:s,"page-size":10})})}});wx.createComponent(o);
