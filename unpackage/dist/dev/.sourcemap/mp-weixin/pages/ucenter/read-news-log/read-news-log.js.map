{"version":3,"file":"read-news-log.js","sources":["pages/ucenter/read-news-log/read-news-log.vue","D:/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdWNlbnRlci9yZWFkLW5ld3MtbG9nL3JlYWQtbmV3cy1sb2cudnVl"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<unicloud-db ref=\"udb\" v-slot:default=\"{data, pagination, loading, hasMore, error}\" :where=\"udbWhere\"\n\t\t\tcollection=\"opendb-news-articles\" @load=\"isLoading == false\" @error=\"isLoading == false\"\n\t\t\tfield=\"_id,poster,cnDetails.name,usDetails.name,euDetails.name\" :page-size=\"10\">\n\t\t\t<uni-list class=\"uni-list\">\n\t\t\t\t<uni-list-item v-for=\"(item, index) in data\" :key=\"index\" :clickable=\"true\"\n\t\t\t\t\t@click=\"handleItemClick(item)\">\n\t\t\t\t\t<!-- 通过header插槽定义列表左侧图片 -->\n\t\t\t\t\t<template v-slot:header>\n\t\t\t\t\t\t<image class=\"avatar\" :src=\"item.poster\" mode=\"aspectFill\"></image>\n\t\t\t\t\t</template>\n\t\t\t\t\t<!-- 通过body插槽定义布局 -->\n\t\t\t\t\t<template v-slot:body>\n\t\t\t\t\t\t<view class=\"main\">\n\t\t\t\t\t\t\t<text class=\"title\">{{item.cnDetails.name||'中 无名称'}}</text>\n\t\t\t\t\t\t\t<view class=\"info\">\n\t\t\t\t\t\t\t\t<text class=\"author\">{{item.usDetails.name||'美 无名称'}}</text><br />\n\t\t\t\t\t\t\t\t<text class=\"author\">{{item.euDetails.name||'欧 无名称'}}</text><br />\n\t\t\t\t\t\t\t\t<uni-dateformat class=\"article-date\" :date=\"readNewsLog[index].last_time\"\n\t\t\t\t\t\t\t\t\tformat=\"yyyy-MM-dd hh:mm\" :threshold=\"[0, 0]\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</template>\n\t\t\t\t</uni-list-item>\n\t\t\t</uni-list>\n\t\t\t<uni-load-state @networkResume=\"refreshData\"\n\t\t\t\t:state=\"{data,pagination,hasMore, loading, error}\"></uni-load-state>\n\t\t</unicloud-db>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisLoading: true,\n\t\t\t\tloadMore: {\n\t\t\t\t\tcontentdown: '',\n\t\t\t\t\tcontentrefresh: '',\n\t\t\t\t\tcontentnomore: '',\n\t\t\t\t},\n\t\t\t\treadNewsLog: [],\n\t\t\t\tudbWhere: ''\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.readNewsLog = uni.getStorageSync('readNewsLog') || [];\n\t\t\tlet readNewsLogIds = this.readNewsLog.map(({\n\t\t\t\tarticle_id\n\t\t\t}) => article_id)\n\t\t\tconsole.log(typeof readNewsLogIds, readNewsLogIds);\n\t\t\tthis.udbWhere = `\"_id\" in ${JSON.stringify(readNewsLogIds)}`\n\t\t\tuni.setNavigationBarTitle({\n\t\t\t\ttitle: this.$t('newsLog.navigationBarTitle')\n\t\t\t})\n\t\t},\n\t\tonPullDownRefresh() {\n\t\t\tthis.refreshData();\n\t\t},\n\t\tonReachBottom() {\n\t\t\tthis.$refs.udb.loadMore()\n\t\t},\n\t\tmethods: {\n\t\t\trefreshData() {\n\t\t\t\tthis.$refs.udb.loadData({\n\t\t\t\t\tclear: true\n\t\t\t\t}, (res) => {\n\t\t\t\t\tuni.stopPullDownRefresh()\n\t\t\t\t})\n\t\t\t},\n\t\t\thandleItemClick(item) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/details/details?id=' + item._id\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.article-date {\n\t\tcolor: #C8C7CC;\n\t}\n\n\t.pages {\n\t\tbackground-color: #FFFFFF;\n\t}\n\n\t.avatar {\n\t\twidth: 300rpx;\n\t\theight: 200rpx;\n\t\tmargin-right: 10rpx;\n\t}\n\n\t.main {\n\t\tjustify-content: space-between;\n\t\tflex: 1;\n\t}\n\n\t.title {\n\t\tfont-size: 16px;\n\t}\n\n\t.info {\n\t\tflex-direction: row;\n\t\tjustify-content: space-between;\n\t}\n\n\t.author,\n\t.last_modify_date {\n\t\tfont-size: 14px;\n\t\tcolor: #999999;\n\t}\n\n\t.uni-search-box {\n\t\tbackground-color: #FFFFFF;\n\t\tposition: sticky;\n\t\theight: 50px;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\t/* #ifndef APP-PLUS */\n\t\tz-index: 9;\n\t\t/* #endif */\n\t\t/* #ifdef MP-WEIXIN */\n\t\twidth: 580rpx;\n\t\t/* #endif */\n\t}\n\n\t.cover-search-bar {\n\t\theight: 50px;\n\t\tposition: relative;\n\t\ttop: -50px;\n\t\tmargin-bottom: -50px;\n\t\t/* #ifndef APP-NVUE */\n\t\tz-index: 999;\n\t\t/* #endif */\n\t}\n</style>","import MiniProgramPage from 'E:/桌面/创新培育/kite-master/pages/ucenter/read-news-log/read-news-log.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAiCC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,WAAW;AAAA,MACX,UAAU;AAAA,QACT,aAAa;AAAA,QACb,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACf;AAAA,MACD,aAAa,CAAE;AAAA,MACf,UAAU;AAAA,IACX;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,cAAcA,cAAG,MAAC,eAAe,aAAa,KAAK,CAAA;AACxD,QAAI,iBAAiB,KAAK,YAAY,IAAI,CAAC;AAAA,MAC1C;AAAA,IACA,MAAK,UAAU;AAChBA,kBAAA,MAAA,MAAA,OAAA,uDAAY,OAAO,gBAAgB,cAAc;AACjD,SAAK,WAAW,YAAY,KAAK,UAAU,cAAc,CAAC;AAC1DA,kBAAAA,MAAI,sBAAsB;AAAA,MACzB,OAAO,KAAK,GAAG,4BAA4B;AAAA,KAC3C;AAAA,EACD;AAAA,EACD,oBAAoB;AACnB,SAAK,YAAW;AAAA,EAChB;AAAA,EACD,gBAAgB;AACf,SAAK,MAAM,IAAI,SAAS;AAAA,EACxB;AAAA,EACD,SAAS;AAAA,IACR,cAAc;AACb,WAAK,MAAM,IAAI,SAAS;AAAA,QACvB,OAAO;AAAA,MACP,GAAE,CAAC,QAAQ;AACXA,sBAAAA,MAAI,oBAAoB;AAAA,OACxB;AAAA,IACD;AAAA,IACD,gBAAgB,MAAM;AACrBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,+BAA+B,KAAK;AAAA,OACzC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5ED,GAAG,WAAW,eAAe;"}