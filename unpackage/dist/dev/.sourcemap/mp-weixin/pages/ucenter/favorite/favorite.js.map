{"version":3,"file":"favorite.js","sources":["pages/ucenter/favorite/favorite.vue","D:/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdWNlbnRlci9mYXZvcml0ZS9mYXZvcml0ZS52dWU"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<unicloud-db ref=\"udb\" v-slot:default=\"{data, pagination, loading, hasMore, error}\" @load=\"isLoading == false\"\n\t\t\t@error=\"isLoading == false\" :collection=\"collectionList\">\n\t\t\t<view v-if=\"error\">{{error.message}}</view>\n\t\t\t<uni-list v-else-if=\"data\" class=\"uni-list\">\n\t\t\t\t<uni-list-item v-for=\"(item, index) in data\" :key=\"index\" :clickable=\"true\"\n\t\t\t\t\t@click=\"handleItemClick(item)\">\n\t\t\t\t\t<!-- 通过header插槽定义列表左侧图片 -->\n\t\t\t\t\t<template v-slot:header>\n\t\t\t\t\t\t<image class=\"avatar\" :src=\"item.article_id[0].poster\" mode=\"aspectFill\"></image>\n\t\t\t\t\t</template>\n\t\t\t\t\t<!-- 通过body插槽定义布局 -->\n\t\t\t\t\t<template v-slot:body>\n\t\t\t\t\t\t<view class=\"main\">\n\t\t\t\t\t\t\t<text class=\"title\">{{item.article_id[0].cnDetails.name||'中 无名称'}}</text>\n\t\t\t\t\t\t\t<view class=\"info\">\n\t\t\t\t\t\t\t\t<text class=\"author\">{{item.article_id[0].usDetails.name||'美 无名称'}}</text><br />\n\t\t\t\t\t\t\t\t<text class=\"author\">{{item.article_id[0].euDetails.name||'欧 无名称'}}</text><br />\n\t\t\t\t\t\t\t\t<uni-dateformat class=\"article-date\" :date=\"item.update_date\" format=\"yyyy-MM-dd hh:mm\"\n\t\t\t\t\t\t\t\t\t:threshold=\"[0, 0]\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</template>\n\t\t\t\t</uni-list-item>\n\t\t\t</uni-list>\n\t\t\t<uni-load-state @networkResume=\"refreshData\"\n\t\t\t\t:state=\"{data,pagination,hasMore, loading, error}\"></uni-load-state>\n\t\t</unicloud-db>\n\t</view>\n</template>\n\n<script setup lang=\"ts\">\n\timport { ref } from 'vue';\n\timport { onReachBottom, onPullDownRefresh, onLoad, onShow } from '@dcloudio/uni-app'\n\n\tconst udb = ref(null)\n\tconst db = uniCloud.database()\n\tconst favorite = db.collection('opendb-news-favorite').where('\"user_id\"==$env.uid').field('article_id,update_date').getTemp()\n\tconst article = db.collection('opendb-news-articles').field('_id,poster,cnDetails.name,usDetails.name,euDetails.name').getTemp()\n\tconst collectionList = [favorite, article]\n\n\tconst isLoading = ref(true)\n\tconst loadMore = ref({\n\t\tcontentdown: '',\n\t\tcontentrefresh: '',\n\t\tcontentnomore: '',\n\t})\n\tconst udbWhere = ref('')\n\n\tonLoad(() => {\n\t})\n\n\tconst refreshData = () => {\n\t\tudb.value.loadData({\n\t\t\tclear: true\n\t\t}, (res) => {\n\t\t\tuni.stopPullDownRefresh()\n\t\t})\n\t}\n\n\tconst handleItemClick = (item) => {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/details/details?id=' + item.article_id[0]._id\n\t\t})\n\t}\n\n\t//触底\n\tonReachBottom(() => {\n\t\tudb.value.loadMore()\n\t})\n\n\t//下拉\n\tonPullDownRefresh(() => {\n\t\trefreshData()\n\t})\n\n\t//显示\n\tonShow(() => {\n\t\trefreshData()\n\t})\n</script>\n\n<style>\n\t.item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.article-date {\n\t\tcolor: #C8C7CC;\n\t}\n\n\t.pages {\n\t\tbackground-color: #FFFFFF;\n\t}\n\n\t.avatar {\n\t\twidth: 300rpx;\n\t\theight: 200rpx;\n\t\tmargin-right: 10rpx;\n\t}\n\n\t.main {\n\t\tjustify-content: space-between;\n\t\tflex: 1;\n\t}\n\n\t.title {\n\t\tfont-size: 16px;\n\t}\n\n\t.info {\n\t\tflex-direction: row;\n\t\tjustify-content: space-between;\n\t}\n\n\t.author,\n\t.last_modify_date {\n\t\tfont-size: 14px;\n\t\tcolor: #999999;\n\t}\n\n\t.uni-search-box {\n\t\tbackground-color: #FFFFFF;\n\t\tposition: sticky;\n\t\theight: 50px;\n\t\ttop: 0;\n\t\tleft: 0;\n\n\t\tz-index: 9;\n\n\n\t\twidth: 580rpx;\n\n\t}\n\n\t.cover-search-bar {\n\t\theight: 50px;\n\t\tposition: relative;\n\t\ttop: -50px;\n\t\tmargin-bottom: -50px;\n\n\t\tz-index: 999;\n\n\t}\n</style>","import MiniProgramPage from 'E:/桌面/创新培育/kite-master/pages/ucenter/favorite/favorite.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uniCloud","onLoad","uni","onReachBottom","onPullDownRefresh","onShow","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAoCO,UAAA,MAAMA,kBAAI,IAAI;AACd,UAAA,KAAKC,iBAAS;AACd,UAAA,WAAW,GAAG,WAAW,sBAAsB,EAAE,MAAM,qBAAqB,EAAE,MAAM,wBAAwB,EAAE,QAAQ;AACtH,UAAA,UAAU,GAAG,WAAW,sBAAsB,EAAE,MAAM,yDAAyD,EAAE;AACjH,UAAA,iBAAiB,CAAC,UAAU,OAAO;AAEnC,UAAA,YAAYD,kBAAI,IAAI;AACTA,sBAAI;AAAA,MACpB,aAAa;AAAA,MACb,gBAAgB;AAAA,MAChB,eAAe;AAAA,IAAA,CACf;AACgBA,kBAAAA,IAAI,EAAE;AAEvBE,kBAAAA,OAAO,MAAM;AAAA,IAAA,CACZ;AAED,UAAM,cAAc,MAAM;AACzB,UAAI,MAAM,SAAS;AAAA,QAClB,OAAO;AAAA,MACR,GAAG,CAAC,QAAQ;AACXC,sBAAA,MAAI,oBAAoB;AAAA,MAAA,CACxB;AAAA,IAAA;AAGI,UAAA,kBAAkB,CAAC,SAAS;AACjCA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,+BAA+B,KAAK,WAAW,CAAC,EAAE;AAAA,MAAA,CACvD;AAAA,IAAA;AAIFC,kBAAAA,cAAc,MAAM;AACnB,UAAI,MAAM;IAAS,CACnB;AAGDC,kBAAAA,kBAAkB,MAAM;AACX;IAAA,CACZ;AAGDC,kBAAAA,OAAO,MAAM;AACA;IAAA,CACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/EF,GAAG,WAAWC,SAAe;"}